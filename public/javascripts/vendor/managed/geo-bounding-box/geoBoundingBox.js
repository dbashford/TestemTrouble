(function () {
define('geoBoundingBox/template',[],function(){var exports;return exports={},exports.hideShowLink='<a href="#" class="geoBoundingBoxHideShow">Show Coordinates</a>',exports.geoBoundingBoxContainer='<div class="geoBoundingBoxContainer">\n<div class="latLngInputContainer tllatLngInputContainer">\n  <div class="latLngInputContainerTitle txt12">Top Left: </div>\n  <div class="latLngInputs">\n    <div class="input-prepend latLngInput">\n      <span class="add-on">Lat</span>\n      <input data-coordType="lat" type="text">\n    </div>\n    <div class="input-prepend latLngInput">\n      <span class="add-on">Lng</span>\n      <input data-coordType="lng" type="text">\n    </div>\n  </div>\n</div>\n\n<div class="latLngInputContainer brlatLngInputContainer">\n  <div class="latLngInputContainerTitle txt12">Bottom Right: </div>\n  <div class="latLngInputs">\n    <div class="input-prepend latLngInput">\n      <span class="add-on">Lat</span>\n      <input data-coordType="lat" type="text">\n    </div>\n    <div class="input-prepend latLngInput">\n      <span class="add-on">Lng</span>\n      <input data-coordType="lng" type="text">\n    </div>\n  </div>\n</div>\n<div class="geoBoundingBoxContainer">',exports});
var __bind=function(t,n){return function(){return t.apply(n,arguments)}},__slice=[].slice;define('lib/geoBoundingBox',["jquery","geoBoundingBox/template"],function(t,n){var i;return i=function(){function i(i,o){var e=this;null==o&&(o=!0),this.getLatLngEls=__bind(this.getLatLngEls,this),this.getBRLngEl=__bind(this.getBRLngEl,this),this.getBRLatEl=__bind(this.getBRLatEl,this),this.getTLLngEl=__bind(this.getTLLngEl,this),this.getTLLatEl=__bind(this.getTLLatEl,this),this.isValidBoundingBox=__bind(this.isValidBoundingBox,this),this.hasValidNumberInputs=__bind(this.hasValidNumberInputs,this),this.onError=__bind(this.onError,this),this.onChange=__bind(this.onChange,this),this._publishError=__bind(this._publishError,this),this._publishChanges=__bind(this._publishChanges,this),this.isBoundingBoxEqual=__bind(this.isBoundingBoxEqual,this),this.clearFilterSelections=__bind(this.clearFilterSelections,this),this.setBoundingBox=__bind(this.setBoundingBox,this),this.onModelChange=__bind(this.onModelChange,this),this.onViewChange=__bind(this.onViewChange,this),this.onHideShowClicked=__bind(this.onHideShowClicked,this),this.changeHandlers=[],this.errorHandlers=[],this.el=i instanceof t?i:t("#"+i),this.$=function(t){return e.el.find(t)},this.el.empty(),o&&this.el.append(n.hideShowLink),this.el.append(n.geoBoundingBoxContainer),o&&this.$(".geoBoundingBoxContainer").hide(),this.$("input").change(this.onViewChange),this.$(".geoBoundingBoxHideShow").click(this.onHideShowClicked)}return i.prototype.boundingBox={topLeft:{lat:0,lng:0},bottomRight:{lat:0,lng:0}},i.prototype.onHideShowClicked=function(t){var n,i;return t.preventDefault(),n=this.$(".geoBoundingBoxContainer"),i=this.$(".geoBoundingBoxHideShow"),n.slideToggle(200,function(){return n.is(":visible")?i.text("Hide Coordinates"):i.text("Show Coordinates")})},i.prototype.onViewChange=function(){var t,n,i,o,e,r;if(e=this.getTLLatEl().val(),r=this.getTLLngEl().val(),n=this.getBRLatEl().val(),i=this.getBRLngEl().val(),o=this.isInputComplete(r,r,n,i),this.hasValidNumberInputs(r,r,n,i)){if(t={topLeft:{lat:parseFloat(e),lng:parseFloat(r)},bottomRight:{lat:parseFloat(n),lng:parseFloat(i)}},this.isValidBoundingBox(t))return this.boundingBox=t,this._publishChanges();if(o)return this._publishError("Invalid Bounding Box")}else if(o)return this._publishError("Invalid Input")},i.prototype.onModelChange=function(){var t,n;return n=this.boundingBox.topLeft,t=this.boundingBox.bottomRight,this.getTLLatEl().val(n.lat.toString()),this.getTLLngEl().val(n.lng.toString()),this.getBRLatEl().val(t.lat.toString()),this.getBRLngEl().val(t.lng.toString()),this._publishChanges()},i.prototype.setBoundingBox=function(t,n,i,o){var e;return e=null!=t.topLeft&&null!=t.bottomRight?t:{topLeft:{lat:t,lng:n},bottomRight:{lat:i,lng:o}},this.isBoundingBoxEqual(e)?void 0:this.isValidBoundingBox(e)?(this.boundingBox=e,this.onModelChange()):_publishError("Invalid Bounding Box")},i.prototype.clearFilterSelections=function(){return this.getLatLngEls().val("")},i.prototype.isBoundingBoxEqual=function(t){return this.boundingBox.topLeft.lat===t.topLeft.lat&&this.boundingBox.topLeft.lng===t.topLeft.lng&&this.boundingBox.bottomRight.lat===t.bottomRight.lat&&this.boundingBox.bottomRight.lng===t.bottomRight.lng},i.prototype._publishChanges=function(){var t,n,i,o,e;for(o=this.changeHandlers,e=[],n=0,i=o.length;i>n;n++)t=o[n],e.push(t(this.boundingBox));return e},i.prototype._publishError=function(t){var n,i,o,e,r;for(e=this.errorHandlers,r=[],i=0,o=e.length;o>i;i++)n=e[i],r.push(n(t));return r},i.prototype.onChange=function(t){return this.changeHandlers.push(t)},i.prototype.onError=function(t){return this.errorHandlers.push(t)},i.prototype.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},i.prototype.isInputComplete=function(){var t,n,i,o;for(n=1<=arguments.length?__slice.call(arguments,0):[],i=0,o=n.length;o>i;i++)if(t=n[i],""===t)return!1;return!0},i.prototype.hasValidNumberInputs=function(t,n,i,o){var e;return this.getLatLngEls().removeClass("error"),e=!0,this.isNumber(t)||(this.getTLLatEl().addClass("error"),e=!1),this.isNumber(n)||(this.getTLLngEl().addClass("error"),e=!1),this.isNumber(i)||(this.getBRLatEl().addClass("error"),e=!1),this.isNumber(o)||(this.getBRLngEl().addClass("error"),e=!1),e},i.prototype.isValidBoundingBox=function(t){var n,i,o,e,r;return o=t.topLeft.lat,e=t.topLeft.lng,n=t.bottomRight.lat,i=t.bottomRight.lng,this.getLatLngEls().removeClass("error"),r=!0,o>=-90&&90>=o||(this.getTLLatEl().addClass("error"),r=!1),n>=-90&&90>=n||(this.getBRLatEl().addClass("error"),r=!1),e>=-180&&180>=e||(this.getTLLngEl().addClass("error"),r=!1),i>=-180&&180>=i||(this.getBRLngEl().addClass("error"),r=!1),o>n&&i>e||(this.getLatLngEls().addClass("error"),r=!1),r},i.prototype.getTLLatEl=function(){return this.$('.tllatLngInputContainer .latLngInput input[data-coordType="lat"]')},i.prototype.getTLLngEl=function(){return this.$('.tllatLngInputContainer .latLngInput input[data-coordType="lng"]')},i.prototype.getBRLatEl=function(){return this.$('.brlatLngInputContainer .latLngInput input[data-coordType="lat"]')},i.prototype.getBRLngEl=function(){return this.$('.brlatLngInputContainer .latLngInput input[data-coordType="lng"]')},i.prototype.getLatLngEls=function(){return this.$(".latLngInputContainer .latLngInput input")},i}()});define(['lib/geoBoundingBox'], function(lib) {
  return lib;
});
})()